# Configuration file for Exam OCR & Grading Pipeline
# Edit this file to customize behavior

# OCR Settings
ocr:
  # Model type: french, english, french_printed
  model_type: french
  
  # Device: cuda (GPU - faster), cpu (slower but always works)
  device: cuda
  
  # Preprocessing
  remove_watermark: true           # Remove CamScanner logos
  watermark_ratio: 0.08            # % of page to treat as watermark (bottom)
  remove_blue_lines: true          # Remove ruled paper lines
  denoise_strength: 10             # Noise reduction (0-20)
  
  # Line segmentation
  min_line_height: 12              # Minimum pixels per line
  max_line_height: 70              # Maximum pixels per line (split if larger)
  min_line_gap: 8                  # Minimum gap between lines (pixels)
  
  # Recognition
  target_line_height: 48           # Resize lines to this height
  num_beams: 6                     # Beam search (higher = more accurate but slower)
  max_length: 384                  # Max tokens per line

# LLM Settings (Ollama)
llm:
  # LLM type: ollama, transformers
  type: ollama
  
  # Model name (for Ollama)
  model_name: mistral
  
  # Ollama server URL
  base_url: http://localhost:11434
  
  # Alternative models: neural-chat (fast), llama2 (quality), dolphin-mixtral (advanced)

# Processing
processing:
  # Data root directory
  data_root: data
  
  # Skip OCR if already processed
  skip_ocr: false
  
  # Save debug images from OCR segmentation
  save_debug_images: false

# Output
output:
  # Base output directory (timestamped subdirs will be created)
  base_dir: results
  
  # Include detailed OCR debug info
  include_debug: true
  
  # Save intermediate files (Q/A, raw OCR, etc.)
  save_intermediate: true

# Grading Preferences
grading:
  # Language for feedback
  language: fr
  
  # Focus areas (optional - customize the LLM prompt)
  # Examples: technical_accuracy, completeness, clarity
  focus_areas:
    - technical_accuracy
    - completeness
    - clarity
  
  # Improvements suggestions count
  improvement_count: 3
